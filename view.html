<html lang="en"><head>
    <meta charset="UTF-8">
    <title>Tables  Page</title>
  
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script><script id="mew-web3script" type="application/javascript" async="false" src="chrome-extension://nlbmnnijcnlegkjjpcfjclmcfggfefdm/js/cxWeb3.js"></script><script type="application/javascript" async="false" id="mew-extensionId">(function(t){window.extensionID=t})("nlbmnnijcnlegkjjpcfjclmcfggfefdm")</script><link href="chrome-extension://lnkdbjbjpnpjeciipoaflmpcddinpjjp/mytube.css" rel="stylesheet" type="text/css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  
  
<body data-gr-c-s-loaded="true">
  
    <div class="container">
  
      <div class="jumbotron">
        <h1 class="text-center"><span class="fa fa-fire"></span> Hot Restaurant</h1>
        <hr>
        <h2 class="text-center">Current Reservations and Waiting List</h2>
        <br>
  
        <div class="text-center">
          <a href="/reserve"><button class="btn btn-lg btn-danger"><span class="fa fa-credit-card"></span> Make Reservation</button></a>
          <a href="/"><button class="btn btn-lg btn-default"><span class="fa fa-home"></span></button></a>
        </div>
      </div>
  
      <div class="row">
        <div class="col-lg-12">
  
         
          <div class="card">
            <div class="card-header">
              <h4>Current Reservations</h4>
            </div>
            <div class="card-body">
              <ul id="tableList" class="list-group"><li class="list-group-item mt-4"><h2>Table #1</h2><hr><h2>ID: afhaque89</h2><h2>Name: Ahmed</h2><h2>Email: ahmed@example.com</h2><h2>Phone: 000-000-0000</h2></li><li class="list-group-item mt-4"><h2>Table #2</h2><hr><h2>ID: 1234</h2><h2>Name: kevin</h2><h2>Email: yep</h2><h2>Phone: yep</h2></li></ul>
            </div>
          </div>
  
          <div class="card mt-4">
            <div class="card-header">
              <h4>Waiting List</h4>
            </div>
            <div class="card-body">
              <ul id="waitList" class="list-group"><li class="list-group-item mt-4"><h2>Table #1</h2><hr><h2>ID: saimaCool</h2><h2>Name: Saima</h2><h2>Email: saima@example.com</h2><h2>Phone: 000-000-0000</h2></li></ul>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer mt-4">
        <div class="container">
          <p>Control Panel</p>
          <p><a href="#" id="clear">Clear Table</a> | <a href="/api/tables">API Table Link</a> | <a href="/api/waitlist">API
              Wait List</a>
        </p></div>
      </footer>
    </div>
  <script type="text/javascript">
    function runTableQuery() {
      $.ajax({ url: "/api/tables", method: "GET" })
        .then(function(tableData) {
  console.log(tableData);
          console.log("------------------------------------");
          for (var i = 0; i < tableData.length; i++) {
            var tableList = $("#tableList");
  
            
            var listItem = $("<li class='list-group-item mt-4'>");
  
            listItem.append(
              $("<h2>").text("Table #" + (i + 1)),
              $("<hr>"),
              $("<h2>").text("ID: " + tableData[i].customerID),
              $("<h2>").text("Name: " + tableData[i].customerName),
              $("<h2>").text("Email: " + tableData[i].customerEmail),
              $("<h2>").text("Phone: " + tableData[i].phoneNumber)
            );
  
            tableList.append(listItem);
          }
        });
    } 
    function runWaitListQuery() {
      $.ajax({ url: "/api/waitlist", method: "GET" })
        .then(function(waitData) {
          console.log(waitData);
          console.log("------------------------------------");
          for (var i = 0; i < waitData.length; i++) {
            var waitList = $("#waitList");
            var listItem = $("<li class='list-group-item mt-4'>");
            listItem.append(
              $("<h2>").text("Table #" + (i + 1)),
              $("<hr>"),
              $("<h2>").text("ID: " + waitData[i].customerID),
              $("<h2>").text("Name: " + waitData[i].customerName),
              $("<h2>").text("Email: " + waitData[i].customerEmail),
              $("<h2>").text("Phone: " + waitData[i].phoneNumber)
            );
            waitList.append(listItem);
          }
        });
    }
    function clearTable() {
      alert("Clearing...");
      $.ajax({ url: "/api/clear", method: "POST" }).then(function() {
        $("#waitList").empty();
        $("#tableList").empty();
      });
    }
  
    $("#clear").on("click", clearTable);
    runTableQuery();
    runWaitListQuery();
   </script>
   <mytubeelement id="myTubeRelayElementToPage" event="preferencesUpdated" data="{&quot;bundle&quot;:{&quot;label_delimitor&quot;:&quot;:&quot;,&quot;percentage&quot;:&quot;%&quot;,&quot;smart_buffer&quot;:&quot;Smart Buffer&quot;,&quot;start_playing_when_buffered&quot;:&quot;Start playing when buffered&quot;,&quot;sound&quot;:&quot;Sound&quot;,&quot;desktop_notification&quot;:&quot;Desktop Notification&quot;,&quot;continuation_on_next_line&quot;:&quot;-&quot;,&quot;loop&quot;:&quot;Loop&quot;,&quot;only_notify&quot;:&quot;Only Notify&quot;,&quot;estimated_time&quot;:&quot;Estimated Time&quot;,&quot;global_preferences&quot;:&quot;Global Preferences&quot;,&quot;no_notification_supported_on_your_browser&quot;:&quot;No notification style supported on your browser version&quot;,&quot;video_buffered&quot;:&quot;Video Buffered&quot;,&quot;buffered&quot;:&quot;Buffered&quot;,&quot;hyphen&quot;:&quot;-&quot;,&quot;buffered_message&quot;:&quot;The video has been buffered as requested and is ready to play.&quot;,&quot;not_supported&quot;:&quot;Not Supported&quot;,&quot;on&quot;:&quot;On&quot;,&quot;off&quot;:&quot;Off&quot;,&quot;click_to_enable_for_this_site&quot;:&quot;Click to enable for this site&quot;,&quot;desktop_notification_denied&quot;:&quot;You have denied permission for desktop notification for this site&quot;,&quot;notification_status_delimitor&quot;:&quot;;&quot;,&quot;error&quot;:&quot;Error&quot;,&quot;adblock_interferance_message&quot;:&quot;Adblock (or similar extension) is known to interfere with SmartVideo. Please add this url to adblock whitelist.&quot;,&quot;calculating&quot;:&quot;Calculating&quot;,&quot;waiting&quot;:&quot;Waiting&quot;,&quot;will_start_buffering_when_initialized&quot;:&quot;Will start buffering when initialized&quot;,&quot;will_start_playing_when_initialized&quot;:&quot;Will start playing when initialized&quot;,&quot;completed&quot;:&quot;Completed&quot;,&quot;buffering_stalled&quot;:&quot;Buffering is stalled. Will stop.&quot;,&quot;stopped&quot;:&quot;Stopped&quot;,&quot;hr&quot;:&quot;Hr&quot;,&quot;min&quot;:&quot;Min&quot;,&quot;sec&quot;:&quot;Sec&quot;,&quot;any_moment&quot;:&quot;Any Moment&quot;,&quot;popup_donate_to&quot;:&quot;Donate to&quot;,&quot;extension_id&quot;:&quot;lnkdbjbjpnpjeciipoaflmpcddinpjjp&quot;},&quot;prefs&quot;:{&quot;desktopNotification&quot;:true,&quot;soundNotification&quot;:true,&quot;logLevel&quot;:0,&quot;enable&quot;:true,&quot;loop&quot;:false,&quot;hidePopup&quot;:false,&quot;autoPlay&quot;:false,&quot;autoBuffer&quot;:false,&quot;autoPlayOnBuffer&quot;:false,&quot;autoPlayOnBufferPercentage&quot;:42,&quot;autoPlayOnSmartBuffer&quot;:true,&quot;quality&quot;:&quot;default&quot;,&quot;fshd&quot;:false,&quot;onlyNotification&quot;:false,&quot;enableFullScreen&quot;:true,&quot;saveBandwidth&quot;:false,&quot;hideAnnotations&quot;:false,&quot;turnOffPagedBuffering&quot;:false}}"></mytubeelement><mytubeelement id="myTubeRelayElementToTab" event="relayPrefs" data="{&quot;loadBundle&quot;:true}"></mytubeelement></body></html>